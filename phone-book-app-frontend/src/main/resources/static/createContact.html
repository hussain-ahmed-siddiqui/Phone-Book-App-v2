<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="/Stylesheets/addContact.css">
</head>
<body>
<form >
  <label for="first_name">First Name</label>
  <input required type="text" name="first_name" id="first_name" placeholder="Enter First Name">
  <label for="middle_name">Middle Name</label>
  <input type="text" name="middle_name" id="middle_name" placeholder="Enter Middle Name">
  <label for="last_name">Last Name</label>
  <input type="text" name="last_name" id="last_name" placeholder="Enter Last Name">
  <label for="email">Email</label>
  <input type="email" name="email" id="email" placeholder="Enter email address">
  <label for="phone">Phone Number</label>
  <input required type="number" name="phone" id="phone" placeholder="Enter Phone Number">
  <button id="createButton" type="button" >Submit</button>
</form>

<script>
    
    document.getElementById('createButton').addEventListener('click',async function(){
      const first_name = document.getElementById('first_name').value;
      const middle_name = document.getElementById('middle_name').value;
      const last_name = document.getElementById('last_name').value;
      const email = document.getElementById('email').value;
      const phone = document.getElementById('phone').value;
      var url = new URL('contacts/new','http://localhost:8080');
      url.searchParams.append('first_name',first_name);
      url.searchParams.append('middle_name',middle_name);
      url.searchParams.append('last_name',last_name);
      url.searchParams.append('email',email);
      url.searchParams.append('phone',phone);
      const response = await fetch(url,{method:'POST',credentials:"include"});
      console.log(response)
      window.location.href='/contacts/list';

    });

</script>

</body>
</html>